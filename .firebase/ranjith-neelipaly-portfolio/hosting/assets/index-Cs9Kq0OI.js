import{r as l,A as b,c as A,b as F,f as v,j as e,L as P,d as w,e as y}from"./index-BJV9Y5v0.js";const k=o=>new Promise((t,n)=>{const s=new FileReader;s.onload=()=>t(s.result),s.onerror=a=>n(a),s.readAsDataURL(o)});function C(){var c,m;const o=l.useContext(b),t=o==null?void 0:o.state.data,[n,s]=l.useState(),a=A(),r=F(i=>i.admin);l.useEffect(()=>{v(a)},[a]);const h=async i=>{i.preventDefault();const d=new FormData(i.currentTarget),p=d.get("name"),u=d.get("file"),j=d.get("email"),f=await k(u);s(g=>({...g,name:p,profilePhoto:f,email:j})),console.log(n,"details")},x=()=>{n?(w(n),a(y({data:{adminName:n==null?void 0:n.name,profilePhoto:n==null?void 0:n.profilePhoto},error:""}))):console.error("Form details are undefined")};return e.jsxs("div",{children:[e.jsx(e.Fragment,{children:e.jsxs(e.Fragment,{children:[e.jsx(P,{to:"/work",children:"To Admin"}),t!=null&&t.adminName?t==null?void 0:t.adminName:e.jsx(e.Fragment,{children:"Loading"}),e.jsxs("div",{children:["form redux",e.jsxs("div",{children:[e.jsxs("div",{children:["admin name :",r.loading===!0?"loading":(c=r.data)==null?void 0:c.adminName]}),"admin pic:",e.jsx("img",{style:{height:"50px",width:"50px"},src:r.loading===!0?"loading":(m=r.data)==null?void 0:m.profilePhoto,alt:"profile"})]})]}),e.jsx("button",{children:"check me and lol"})]})}),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:i=>h(i),children:[e.jsx("input",{type:"text",name:"name",placeholder:"name"}),e.jsx("input",{type:"file",name:"file",placeholder:"choose"}),e.jsx("input",{type:"text",name:"email",placeholder:"choose"}),e.jsx("button",{type:"submit",children:"submit"})]})}),e.jsxs("div",{children:[e.jsx("h1",{children:"name"}),": ",n==null?void 0:n.name,e.jsx("h1",{children:"file"}),":"," ",n!=null&&n.profilePhoto?e.jsx(e.Fragment,{children:n==null?void 0:n.profilePhoto}):e.jsx(e.Fragment,{children:"no file found"}),e.jsx("div",{}),e.jsx("button",{onClick:x,children:"sumbit"})]})]})}export{C as default};
